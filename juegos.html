<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minijuegos â€“ CÃ¡lculo Vectorial</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="layout">

  <!-- Sidebar -->
  <nav class="sidebar">
    <h2>Minijuegos</h2>

    <ul>
      <li class="sidebar-section">Juegos</li>
      <li><a href="#vf">âœ” Verdadero / Falso</a></li>
      <li><a href="#opciones">âœ” OpciÃ³n mÃºltiple</a></li>
      <li><a href="#vector">âœ” Completar vector</a></li>

      <li class="sidebar-section">NavegaciÃ³n</li>
      <li><a href="index.html">Inicio</a></li>
      <li><a href="U1.html">Unidad 1</a></li>
      <li><a href="U2.html">Unidad 2</a></li>
      <li><a href="formulario.html">Formulario</a></li>
      <li><a href="calculadoras.html">Calculadoras</a></li>
      <li><a href="chat.html">Chat matemÃ¡tico</a></li>
      <li><a href="config.html">ConfiguraciÃ³n</a></li>
    </ul>

    <div class="theme-toggle">
      <button onclick="toggleTheme()">Modo claro/oscuro</button>
    </div>
  </nav>

  <!-- CONTENIDO -->
  <main class="content">

    <section>
      <h1>Minijuegos de CÃ¡lculo Vectorial</h1>
      <p>Pon a prueba tus conocimientos con estos juegos interactivos.</p>
      <p><b>Puntaje total:</b> <span id="score">0</span> ðŸŽ¯</p>
    </section>

    <!-- Verdadero o Falso -->
    <section id="vf">
      <span class="tag">Juego 1</span>
      <h2>Verdadero o Falso</h2>

      <div class="game-card">
        <p id="vf-pregunta">Cargando...</p>

        <div class="game-options">
          <button onclick="respuestaVF(true)">âœ” Verdadero</button>
          <button onclick="respuestaVF(false)">âœ˜ Falso</button>
        </div>
      </div>
    </section>

    <!-- OpciÃ³n mÃºltiple -->
    <section id="opciones">
      <span class="tag">Juego 2</span>
      <h2>OpciÃ³n mÃºltiple</h2>

      <div class="game-card">
        <p id="op-pregunta">Cargando...</p>

        <div id="op-opciones" class="game-options"></div>
      </div>
    </section>

    <!-- Completar vector -->
    <section id="vector">
      <span class="tag">Juego 3</span>
      <h2>Completar las coordenadas del vector</h2>

      <div class="game-card">
        <p id="vec-pregunta">Cargando...</p>

        <input type="number" id="vx" placeholder="x">
        <input type="number" id="vy" placeholder="y">
        <input type="number" id="vz" placeholder="z">

        <button onclick="respuestaVector()">Responder</button>

        <div id="vec-res" class="example-box"></div>
      </div>
    </section>

  </main>

</div>

<script>
/* ==============================
   MODO OSCURO
============================== */
(function () {
  const saved = localStorage.getItem('theme');
  if (saved === 'dark') document.body.classList.add('dark');
})();
function toggleTheme() {
  document.body.classList.toggle('dark');
  localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
}

/* ==============================
   SISTEMA DE PUNTAJE
============================== */
let score = 0;
function addScore() {
  score++;
  document.getElementById("score").textContent = score;
}

/* ==============================
   JUEGO 1: VERDADERO / FALSO
============================== */
const preguntasVF = [
  { texto: "La magnitud del vector (3, 4) es 5.", resp: true },
  { texto: "El producto cruz produce un nÃºmero.", resp: false },
  { texto: "Una recta en 3D tiene infinitos puntos.", resp: true },
  { texto: "En polares, x = rÂ·cos(Î¸).", resp: true },
  { texto: "El vector (0,0,0) tiene direcciÃ³n definida.", resp: false }
];
let actualVF = 0;

function cargarVF() {
  document.getElementById("vf-pregunta").textContent =
    preguntasVF[actualVF].texto;
}

function respuestaVF(valor) {
  if (valor === preguntasVF[actualVF].resp) {
    alert("âœ” Correcto!");
    addScore();
  } else {
    alert("âœ˜ Incorrecto");
  }
  actualVF = (actualVF + 1) % preguntasVF.length;
  cargarVF();
}

/* ==============================
   JUEGO 2: OPCIÃ“N MÃšLTIPLE
============================== */
const preguntasOP = [
  {
    p: "Â¿CuÃ¡l es la magnitud de (1,2,2)?",
    opciones: ["3", "âˆš6", "âˆš9", "4"],
    correcta: "3"
  },
  {
    p: "Â¿CuÃ¡l es la forma paramÃ©trica de una recta?",
    opciones: ["r = râ‚€ + tÂ·v", "Ax + By + Cz + D = 0", "xÂ²+yÂ²=1"],
    correcta: "r = râ‚€ + tÂ·v"
  },
  {
    p: "Â¿CuÃ¡l es x en coordenadas polares?",
    opciones: ["rÂ·sen(Î¸)", "rÂ·tan(Î¸)", "rÂ·cos(Î¸)"],
    correcta: "rÂ·cos(Î¸)"
  }
];

let actualOP = 0;

function cargarOP() {
  document.getElementById("op-pregunta").textContent =
    preguntasOP[actualOP].p;

  let cont = document.getElementById("op-opciones");
  cont.innerHTML = "";
  preguntasOP[actualOP].opciones.forEach(op => {
    let btn = document.createElement("button");
    btn.textContent = op;
    btn.onclick = () => respuestaOP(op);
    cont.appendChild(btn);
  });
}

function respuestaOP(op) {
  if (op === preguntasOP[actualOP].correcta) {
    alert("âœ” Correcto!");
    addScore();
  } else {
    alert("âœ˜ Incorrecto");
  }
  actualOP = (actualOP + 1) % preguntasOP.length;
  cargarOP();
}

/* ==============================
   JUEGO 3: COMPLETAR VECTOR
============================== */
let vecActual = {
  x: 2,
  y: -1,
  z: 3
};

function cargarVector() {
  document.getElementById("vec-pregunta").textContent =
    "Completa el vector v = (?, ?, ?)";
}

function respuestaVector() {
  let x = document.getElementById("vx").value;
  let y = document.getElementById("vy").value;
  let z = document.getElementById("vz").value;

  if (x == vecActual.x && y == vecActual.y && z == vecActual.z) {
    document.getElementById("vec-res").innerHTML =
      "<b>âœ” Correcto!</b>";
    addScore();
  } else {
    document.getElementById("vec-res").innerHTML =
      `<b>âœ˜ Incorrecto.</b> La respuesta era (${vecActual.x}, ${vecActual.y}, ${vecActual.z}).`;
  }
}

cargarVF();
cargarOP();
cargarVector();

</script>

</body>
</html>
